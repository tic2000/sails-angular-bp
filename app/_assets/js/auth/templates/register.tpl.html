<form name="registerForm" ng-submit="registerCtrl.registerUser()" class="form-horizontal" novalidate>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="register-username">Username</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="registerCtrl.user.name" name="name" placeholder="username" id="register-username" user-available="name" autofocus="true" minlength="4" maxlength="32" required user-available-validator ng-model-options="{debounce : {'default' : 500, blur : 0}}" required />
      <div class="error-messages bg-danger text-danger" ng-messages="registerForm.name.$error" ng-if="registerForm.$submitted || registerForm.name.$touched">
        <div class="error-message" ng-if="registerForm.name.$pending">Checking username...</div>
        <div class="error-message" ng-message="required">Username is required!</div>
        <div class="error-message" ng-message="minlength">Username is too short!</div>
        <div class="error-message" ng-message="maxlength">Max username length is 32, please shorten it.</div>
        <div class="error-message" ng-message="userAvailable">Username is already taken.</div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="register-firstname">First name</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="registerCtrl.user.firstname" name="firstname" placeholder="first name" id="register-firstname" />
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="register-lastname">Last name</label>
    <div class="col-sm-10">
      <input class="form-control" type="text" ng-model="registerCtrl.user.lastname" name="lastname" placeholder="last name" id="register-lastname" />
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="register-email">Email</label>
    <div class="col-sm-10">
      <input class="form-control" type="email" ng-model="registerCtrl.user.email" name="email" placeholder="email" id="register-email" user-available="email" required />
      <div class="error-messages bg-danger text-danger" ng-messages="registerForm.email.$error" ng-if="registerForm.$submitted || registerForm.email.$touched">
        <div class="error-message" ng-message="required">E-Mail is required!</div>
        <div class="error-message" ng-message="email">E-Mail seems invalid.</div>
        <div class="error-message" ng-message="userAvailable">E-Mail is already in use!</div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="register-password">Password</label>
    <div class="col-sm-10">
      <input class="form-control" type="password" ng-model="registerCtrl.user.password" name="password" placeholder="password" minlength="6" id="register-password" ng-model-options="{debounce : {'default' : 500, blur : 0}}" field-match="registerCtrl.user.password2" required />
    </div>
  </div>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="register-password2">Confirm password</label>
    <div class="col-sm-10">
      <input class="form-control" type="password" ng-model="registerCtrl.user.password2" name="password2" placeholder="confirm password" id="register-password2" ng-model-options="{debounce : {'default' : 500, blur : 0}}" required />
      <div class="error-messages bg-danger text-danger" ng-messages="registerForm.password.$error" ng-if="registerForm.$submitted || registerForm.password.$touched || registerForm.password2.$touched">
        <div class="error-message" ng-message="required">Password and confirmation password are required!</div>
        <div class="error-message" ng-message="match">Passwords do not match!</div>
        <div class="error-message" ng-message="minlength">For your own safety, use a password longer than 5 characters!</div>
      </div>
    </div>
  </div>
  <button class="btn btn-primary pull-right" ng-disabled="registerForm.$invalid || registerCtrl.xhr">Register <span ng-if="registerCtrl.xhr" class="glyphicon glyphicon-refresh fa-spin"></span></button>
</form>
